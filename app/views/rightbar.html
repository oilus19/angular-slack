<div id="rightbar-wrap" ng-controller="RightbarCtrl" slimscroll="{height: '100%'}">

<tabset justified="true" ng-init="resize()">
  <tab id="info">
    <tab-heading tooltip="Information" tooltip-placement="bottom">
      <fa name="info"></fa>
    </tab-heading>

    <h6>ABOUT THIS GROUP</h6>
    <p>Welcome to Feds On stack, this channel is for general talk. Please don't span.</p>
    <p>Created by Alex Volkov on<br/>December 31st, 2014.</p>

    <h6><strong>ONLINE</strong> USERS</h6>

    <ul>

      <li class="online">
        <div class="media">
          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/ici-avatar.jpg" alt>
          </a>
          <div class="media-body">
            <span class="media-heading">Ing. Imrich <strong>Kamarel</strong></span>
            <small><i class="fa fa-map-marker"></i> Ulaanbaatar, Mongolia</small>
            <span class="badge badge-outline status"></span>
          </div>
        </div>
      </li>

      <li class="online">
        <div class="media">

          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/arnold-avatar.jpg" alt>
          </a>
          <span class="badge bg-lightred unread">3</span>

          <div class="media-body">
            <span class="media-heading">Arnold <strong>Karlsberg</strong></span>
            <small><i class="fa fa-map-marker"></i> Bratislava, Slovakia</small>
            <span class="badge badge-outline status"></span>
          </div>

        </div>
      </li>

      <li class="online">
        <div class="media">
          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/peter-avatar.jpg" alt>
          </a>
          <div class="media-body">
            <span class="media-heading">Peter <strong>Kay</strong></span>
            <small><i class="fa fa-map-marker"></i> Kosice, Slovakia</small>
            <span class="badge badge-outline status"></span>
          </div>
        </div>
      </li>

      <li class="online">
        <div class="media">
          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/george-avatar.jpg" alt>
          </a>
          <div class="media-body">
            <span class="media-heading">George <strong>McCain</strong></span>
            <small><i class="fa fa-map-marker"></i> Prague, Czech Republic</small>
            <span class="badge badge-outline status"></span>
          </div>
        </div>
      </li>

      <li class="busy">
        <div class="media">
          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/random-avatar1.jpg" alt>
          </a>
          <div class="media-body">
            <span class="media-heading">Lucius <strong>Cashmere</strong></span>
            <small><i class="fa fa-map-marker"></i> Wien, Austria</small>
            <span class="badge badge-outline status"></span>
          </div>
        </div>
      </li>

      <li class="busy">
        <div class="media">
          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/random-avatar2.jpg" alt>
          </a>
          <div class="media-body">
            <span class="media-heading">Jesse <strong>Phoenix</strong></span>
            <small><i class="fa fa-map-marker"></i> Berlin, Germany</small>
            <span class="badge badge-outline status"></span>
          </div>
        </div>
      </li>

    </ul>

    <h6><strong>OFFLINE</strong> USERS</h6>

    <ul>

      <li class="offline">
        <div class="media">
          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/random-avatar4.jpg" alt>
          </a>
          <div class="media-body">
            <span class="media-heading">Dell <strong>MacApple</strong></span>
            <small><i class="fa fa-map-marker"></i> Paris, France</small>
            <span class="badge badge-outline status"></span>
          </div>
        </div>
      </li>

      <li class="offline">
        <div class="media">

          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/random-avatar5.jpg" alt>
          </a>

          <div class="media-body">
            <span class="media-heading">Roger <strong>Flopple</strong></span>
            <small><i class="fa fa-map-marker"></i> Rome, Italia</small>
            <span class="badge badge-outline status"></span>
          </div>

        </div>
      </li>

      <li class="offline">
        <div class="media">
          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/random-avatar6.jpg" alt>
          </a>
          <div class="media-body">
            <span class="media-heading">Nico <strong>Vulture</strong></span>
            <small><i class="fa fa-map-marker"></i> Kyjev, Ukraine</small>
            <span class="badge badge-outline status"></span>
          </div>
        </div>
      </li>

      <li class="offline">
        <div class="media">
          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/random-avatar7.jpg" alt>
          </a>
          <div class="media-body">
            <span class="media-heading">Bobby <strong>Socks</strong></span>
            <small><i class="fa fa-map-marker"></i> Moscow, Russia</small>
            <span class="badge badge-outline status"></span>
          </div>
        </div>
      </li>

      <li class="offline">
        <div class="media">
          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="images/random-avatar8.jpg" alt>
          </a>
          <div class="media-body">
            <span class="media-heading">Anna <strong>Opichia</strong></span>
            <small><i class="fa fa-map-marker"></i> Budapest, Hungary</small>
            <span class="badge badge-outline status"></span>
          </div>
        </div>
      </li>

    </ul>
  </tab>

  <tab id="mentions">
    <tab-heading tooltip="Mentions" tooltip-placement="bottom">
      <fa name="at"></fa>
    </tab-heading>

    <h6>Mentions
      <a class="pull-right" ng-click="hideMention()" ng-if="mentionsScope.mentionShowed"><i class="icon-close"/></a>
    </h6>

    <div ng-if="!mentionsScope.mentionShowed">
      <ul class="mentions" ng-init="mentionsScope.filter={type:'@'};mentionsScope.empty=true">
        <li ng-repeat="post in posts | filter:mentionsScope.filter">
          <div class="media" ng-init="mentionsScope.empty=false">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{post.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{post.user.firstname}} <strong>{{post.user.lastname}}</strong></span>
              <small>{{post.body}}</small><br/>
              <a class="read-more" ng-click="showMention(post)">View more</a>
            </div>
          </div>
        </li>
      </ul>

      <span ng-if="mentionsScope.empty">There's no mentions about you yet.</span>
    </div>

    <div ng-if="mentionsScope.mentionShowed">
      <ul>
        <li>
          <div class="media">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{mention.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{mention.user.firstname}} <strong>{{mention.user.lastname}}</strong></span>
              <span>{{mention.body}}</span>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </tab>

  <tab id="questions">
    <tab-heading tooltip="Questions" tooltip-placement="bottom">
      <fa name="question"></fa>
    </tab-heading>

    <h6>Questions
      <a class="pull-right" ng-click="newQuestion()" ng-class="{hidden: questionsScope.questionShowed}"><i class="icon-plus"/></a>
      <a class="pull-right" ng-click="hideQuestion()" ng-class="{hidden: !questionsScope.questionShowed}"><i class="icon-close"/></a>
    </h6>

    <div ng-if="!questionsScope.questionShowed">
      <ul class="questions" ng-init="questionsScope.filter={type:'q'};questionsScope.empty=true">
        <li ng-repeat="post in posts | filter:questionsScope.filter">
          <div class="media" ng-init="questionsScope.empty=false">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{post.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{post.user.firstname}} <strong>{{post.user.lastname}}</strong></span>
              <small>{{post.body}}</small><br/>
              <a class="read-more" ng-click="showQuestion(post)">View more</a>
            </div>
          </div>
        </li>
      </ul>

      <span ng-if="questionsScope.empty">There's no questions yet.</span>
      <div class="new-post"><button type="button" class="btn btn-danger" ng-click="newQuestion()">Click here to create your question</button></div>
    </div>

    <div ng-if="questionsScope.questionShowed">
      <ul class="q-a">
        <li>
          <div class="media">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{question.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{question.user.firstname}} <strong>{{question.user.lastname}}</strong></span>
              <span>{{question.body}}</span>
            </div>
          </div>
        </li>
        <li>
          <span>Answers</span>
        </li>
        <li ng-repeat="post in question.answers">
          <div class="media">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{post.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{post.user.firstname}} <strong>{{post.user.lastname}}</strong></span>
              <span>{{post.body}}</span>
            </div>
          </div>
        </li>
      </ul>

      <div class="new-answer" ng-controller="NewAnswerCtrl">
        <div class="input-group">
          <input type="text" id="new_answer_input" class="form-control" placeholder="Write your answer here..." ng-model="newAnswer" ng-keypress="keyPress($event)">
          <span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="submitAnswer()">Answer</button></span>
        </div>
      </div>

    </div>

  </tab>

  <tab id="polls">
    <tab-heading tooltip="Polls" tooltip-placement="bottom">
      <fa name="bar-chart-o"></fa>
    </tab-heading>

    <h6>Polls
      <a class="pull-right" ng-click="newPoll()" ng-class="{hidden: pollsScope.pollShowed}"><i class="icon-plus"/></a>
      <a class="pull-right" ng-click="hidePoll()"  ng-class="{hidden: !pollsScope.pollShowed}"><i class="icon-close"/></a>
    </h6>

    <div ng-if="!pollsScope.pollShowed">
      <ul class="polls" ng-init="pollsScope.filter={type:'p'};pollsScope.empty=true">
        <li ng-repeat="post in posts | filter:pollsScope.filter">
          <div class="media" ng-init="pollsScope.empty=false">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{post.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{post.user.firstname}} <strong>{{post.user.lastname}}</strong></span>
              <small>{{post.body}}</small><br/>
              <a class="read-more" ng-click="showPoll(post)">View more</a>
            </div>
          </div>
        </li>
      </ul>

      <span ng-if="pollsScope.empty">There's no polls yet.</span>
      <div class="new-post"><button type="button" class="btn btn-danger" ng-click="newPoll()">Click here to create your poll</button></div>
    </div>

    <div ng-if="pollsScope.pollShowed">
      <h5><strong>Question:</strong> {{poll.body}}</h5>
      <div ng-if="!pollsScope.answerPoll">
        <span ng-repeat="option in poll.options">
          <input type="radio" disabled="disabled" ng-value="$index" class="mr-10"/>{{option.title}}<br/>
        </span>
        <button type="button" class="btn btn-success btn-rounded btn-sm mt-20" ng-click="answerPoll(poll)">Answer Poll</button>
      </div>
      <div ng-if="pollsScope.answerPoll">
        <span ng-repeat="option in poll.options">
          <input type="radio" name="option" ng-model="pollsScope.selectedPollOption" ng-value="$index" class="mr-10"/>{{option.title}}<br/>
        </span>
        <hr/>

        <div ng-if="pollsScope.answeredPoll">
          <h5 class="text-danger">Result of User Votes:</h5>
          <span ng-repeat="option in poll.options" ng-init="pollsScope.progressbarColorSet=['greensea','warning','danger'];">
            {{option.title}} ({{Math.round(10000*option.votes/pollsScope.pollTotalVotes)/100}}%)<br/>
            <progressbar class="progress-xs not-rounded mt-5" value="Math.round(100*option.votes/pollsScope.pollTotalVotes)" type="{{pollsScope.progressbarColorSet[$index%3]}}"></progressbar>
          </span>
        </div>
        <div ng-if="!pollsScope.answeredPoll">
          <button type="button" class="btn btn-success btn-rounded btn-sm" ng-click="submitVote(poll)"><i class="fa fa-bell mr-5"/>Mark Your Vote</button>
        </div>
      </div>
    </div>
  </tab>

  <tab id="events">
    <tab-heading tooltip="Events" tooltip-placement="bottom">
      <fa name="calendar"></fa>
    </tab-heading>

    <h6>Events
      <a class="pull-right" ng-click="newEvent()" ng-class="{hidden: eventsScope.eventShowed}"><i class="icon-plus"/></a>
      <a class="pull-right" ng-click="hideEvent()" ng-class="{hidden: !eventsScope.eventShowed}"><i class="icon-close"/></a>
    </h6>

    <div ng-if="!eventsScope.eventShowed">
      <ul class="events" ng-init="eventsScope.filter={type:'e'};eventsScope.empty=true">
        <li ng-repeat="post in posts | filter:eventsScope.filter">
          <div class="media" ng-init="eventsScope.empty=false">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{post.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{post.user.firstname}} <strong>{{post.user.lastname}}</strong></span>
              <small>{{post.body}}</small><br/>
              <a class="read-more" ng-click="showEvent(post)">View more</a>
            </div>
          </div>
        </li>
      </ul>

      <span ng-if="eventsScope.empty">There's no events yet.</span>
      <div class="new-post"><button type="button" class="btn btn-danger" ng-click="newEvent()">Click here to create your event</button></div>
    </div>

    <div ng-if="eventsScope.eventShowed">
      <ul>
        <li>
          <div class="media">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{event.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{event.user.firstname}} <strong>{{event.user.lastname}}</strong></span>
              <span><strong>Title:</strong> {{event.body}}</span><br/><br/>
              <span ng-if="event.info"><strong>Info:</strong> <span ng-bind-html="event.info"></span></span><br/><br/>
              <span ng-if="event.location"><strong>Location:</strong> {{event.location}}</span><br/><br/>
              <span ng-if="event.date"><strong>Date:</strong> {{event.date.toLocaleDateString()}}</span><br/><br/>
              <span ng-if="event.time"><strong>Time:</strong> {{event.time.toLocaleTimeString()}}</span><br/><br/>
              <span ng-if="event.price"><strong>Price:</strong> {{event.price}}</span><br/>
            </div>
          </div>
        </li>
      </ul>

      <ul class="mt-40">
        <li>
          <span>Comments</span>
        </li>
        <li ng-repeat="post in event.replies">
          <div class="media">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{post.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{post.user.firstname}} <strong>{{post.user.lastname}}</strong></span>
              <span>{{post.body}}</span>
            </div>
          </div>
        </li>
        <li ng-controller="ReplyCtrl" ng-init="post=event">

              <div class="input-group">
                <input id="reply_post_input" class="form-control ng-pristine ng-untouched ng-valid" placeholder="Write your comment here..." ng-model="newReply" type="text">
                <span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="submitReply()">Submit</button></span>
              </div>

        </li>
      </ul>
    </div>
  </tab>

  <tab id="sales">
    <tab-heading tooltip="Sales" tooltip-placement="bottom">
      <fa name="dollar"></fa>
    </tab-heading>

    <h6>Sales
      <a class="pull-right" ng-click="newSale()" ng-class="{hidden: salesScope.saleShowed}"><i class="icon-plus"/></a>
      <a class="pull-right" ng-click="hideSale()" ng-class="{hidden: !salesScope.saleShowed}"><i class="icon-close"/></a>
    </h6>

    <div ng-if="!salesScope.saleShowed">
      <ul class="sales" ng-init="salesScope.filter={type:'s'};salesScope.empty=true">
        <li ng-repeat="post in posts | filter:salesScope.filter">
          <div class="media" ng-init="salesScope.empty=false">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{post.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{post.user.firstname}} <strong>{{post.user.lastname}}</strong></span>
              <small>{{post.body}}</small><br/>
              <a class="read-more" ng-click="showSale(post)">View more</a>
            </div>
          </div>
        </li>
      </ul>

      <span ng-if="salesScope.empty">There's no sales yet.</span>
      <div class="new-post"><button type="button" class="btn btn-danger" ng-click="newSale()">Click here to create your sale</button></div>
    </div>

    <div ng-if="salesScope.saleShowed">
      <ul>
        <li>
          <div class="media">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{sale.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{sale.user.firstname}} <strong>{{sale.user.lastname}}</strong></span>
              <span><strong>Title:</strong> {{sale.body}}</span><br/>
            </div>
          </div>
        </li>
      </ul>
      <div ng-if="sale.photo" class="p-10 bg-white b-a b-solid"><a href="{{sale.photo}}" class="fresco"><img src="{{sale.photo}}" style="max-width:100%"/></a></div><br/>
      <span ng-if="sale.price"><strong>Price:</strong> {{sale.price}}</span><br/>


      <ul class="mt-40">
        <li>
          <span>Comments</span>
        </li>
        <li ng-repeat="post in sale.replies">
          <div class="media">
            <a class="pull-left thumb thumb-sm" href="javascript:;">
              <img class="media-object img-circle" src="{{post.user.avatar}}" alt>
            </a>
            <div class="media-body">
              <span class="media-heading">{{post.user.firstname}} <strong>{{post.user.lastname}}</strong></span>
              <span>{{post.body}}</span>
            </div>
          </div>
        </li>
        <li ng-controller="ReplyCtrl" ng-init="post=sale">

              <div class="input-group">
                <input id="reply_post_input" class="form-control ng-pristine ng-untouched ng-valid" placeholder="Write your comment here..." ng-model="newReply" type="text">
                <span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="submitReply()">Submit</button></span>
              </div>

        </li>
      </ul>
    </div>
  </tab>

  <tab id="pinned_items">
    <tab-heading tooltip="Pinned Items" tooltip-placement="bottom">
      <fa name="thumb-tack"></fa>
    </tab-heading>

    <h6>Pinned Items</h6>

    <ul class="pinned-items" ng-init="pinnedItemsScope.filter={pinned:true};pinnedItemsScope.empty=true">
      <li ng-repeat="post in posts | filter:pinnedItemsScope.filter">
        <div class="media" ng-init="pinnedItemsScope.empty=false">
          <a class="pull-left thumb thumb-sm" href="javascript:;">
            <img class="media-object img-circle" src="{{post.user.avatar}}" alt>
          </a>
          <div class="media-body">
            <span class="media-heading">{{post.user.firstname}} <strong>{{post.user.lastname}}</strong></span>
            <small>{{post.body}}</small><br/>
            <a class="read-more" ng-click="showPinnedItem(post)">View more</a>
          </div>
        </div>
      </li>
    </ul>
  </tab>

  
</tabset>

</div>
